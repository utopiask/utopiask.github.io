utils.jq(()=>{$(function(){const r=document.getElementsByClassName("ds-weibo");for(var n=0;n<r.length;n++){const t=r[n],o=t.getAttribute("api");if(o==null)continue;const l=t.getAttribute("avatar")||def.avatar;utils.request(t,o,function(a){const d=a.tweets||[],c=t.getAttribute("limit");d.forEach((s,i)=>{if(!(c&&i>=c)){var e='<div class="timenode" index="'+i+'">';e+='<div class="header">',e+='<div class="user-info">',e+='<img src="'+(a.user.avatar_hd||l)+`" onerror="javascript:this.src='`+l+`';">`,e+="<span>"+a.user.nick_name+"</span>",e+="</div>",e+="<span>"+s.created_at+"</span>",e+="</div>",e+='<div class="body">',e+='<a class="body" href="'+s.url+'" target="_blank" rel="external nofollow noopener noreferrer">',e+=s.content,e+="</a>",e+='<div class="footer">',e+='<div class="flex left">',e+="</div>",e+='<div class="flex right">',e+='<div class="item reaction repost">',e+='<a class="item comments last" href="'+s.url+'#issuecomment-new" target="_blank" rel="external nofollow noopener noreferrer">',e+="<span>\u{1F517} "+s.reposts_count+"</span>",e+="</a>",e+="</div>",e+='<a class="item comments last" href="'+s.url+'#issuecomment-new" target="_blank" rel="external nofollow noopener noreferrer">',e+='<span><svg t="1666270368054" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2528" width="200" height="200"><path d="M952 64H72C32.3 64 0 96.3 0 136v508c0 39.7 32.3 72 72 72h261l128 128c14 14 32.5 21.1 50.9 21.1s36.9-7 50.9-21.1l128-128h261c39.7 0 72-32.3 72-72V136c0.2-39.7-32.1-72-71.8-72zM222 462c-39.8 0-72-32.2-72-72s32.2-72 72-72 72 32.2 72 72-32.2 72-72 72z m290-7.7c-39.8 0-72-32.2-72-72s32.2-72 72-72 72 32.2 72 72c0 39.7-32.2 72-72 72z m290 8c-39.8 0-72-32.2-72-72s32.2-72 72-72 72 32.2 72 72c0 39.7-32.2 72-72 72z" p-id="2529"></path></svg> '+(s.comments_count||0)+"</span>",e+="</a>",e+='<div class="item reaction attitudes">',e+='<a class="item comments last" href="'+s.url+'#issuecomment-new" target="_blank" rel="external nofollow noopener noreferrer">',e+="<span>\u{1F44D} "+s.attitudes_count+"</span>",e+="</a>",e+="</div>",e+="</div>",e+="</div>",$(t).append(e)}})})}})});
