var searchFunc=function(i,v,m,e,p){function y(s){var t,n,l=[];for(t=0;t<s.length;t++)for(n=t+1;n<s.length+1;n++)l.push(s.slice(t,n).join(" "));return l}$.ajax({url:i,dataType:"json",success:function(s){var t=s,n=document.getElementById(e);if(n){var l=document.getElementById(p),L=document.getElementById(m);n.addEventListener("input",function(){var u=[],E=y(this.value.trim().toLowerCase().split(" ")).sort(function(r,a){return a.split(" ").length-r.split(" ").length});if(l.innerHTML="",this.value.trim().length<=0){L.setAttribute("searching","false");return}if(L.setAttribute("searching","true"),t.forEach(function(r){if(r.content?.trim().length){var a=0;if(!(v&&!r.path.includes(v))){var j=r.title?.trim()||"Untitled",A=j.toLowerCase(),o=r.content,O=o.toLowerCase(),k=r.path.startsWith("//")?r.path.slice(1):r.path,T=-1,c=-1,f=-1;if(o!==""&&E.forEach(function(w){T=A.indexOf(w),c=O.indexOf(w),(T>=0||c>=0)&&(a+=1,c<0&&(c=0),f<0&&(f=c))}),a>0){var h={};if(h.rank=a,h.str="<li><a href='"+k+"'><span class='search-result-title'>"+j+"</span>",f>=0){var d=f-20,g=f+80;d<0&&(d=0),d==0&&(g=100),g>o.length&&(g=o.length);var x=o.substring(d,g),B=new RegExp(E.join("|"),"gi");x=x.replace(B,function(w){return'<span class="search-keyword">'+w+"</span>"}),h.str+='<p class="search-result-content">'+x+"...</p>"}h.str+="</a></li>",u.push(h)}}}}),u.length){u.sort(function(r,a){return a.rank-r.rank});for(var C='<ul class="search-result-list">',b=0;b<u.length;b++)C+=u[b].str;C+="</ul>",l.innerHTML=C}})}}})};utils.jq(()=>{var i=$("input#search-input");if(i.length!=0){var v=document.querySelector("div#search-result");i.focus(function(){var e=ctx.search.path;e.startsWith("/")&&(e=e.substring(1)),e=ctx.root+e;const p=i.attr("data-filter")||"";searchFunc(e,p,"search-wrapper","search-input","search-result")}),i.keydown(function(e){e.which==13&&e.preventDefault()});var m=new MutationObserver(function(e,p){e.length==1&&(e[0].addedNodes.length?$(".search-wrapper").removeClass("noresult"):e[0].removedNodes.length&&$(".search-wrapper").addClass("noresult"))});m.observe(v,{childList:!0})}});
